# 批量导入商品功能使用说明

## 功能概述

批量导入功能允许管理员通过粘贴文本的方式快速批量添加商品，系统会自动识别商品规格、品牌和价格，并自动创建所需的分类。

## 使用步骤

### 1. 进入批量导入页面

1. 使用管理员账号登录系统
2. 点击右下角"我的" → "管理后台"
3. 在管理后台顶部点击"批量导入"标签

### 2. 准备导入文本

按照以下格式准备商品信息：

```
135/70R12 万达 120元
145/70R12 玲珑130元 朝阳 130元 正新 170元
165R14 三角 230元 玲珑 210元 正新350元
155/65R13 玛吉斯200元 海福来 150元
```

### 3. 导入方式

系统提供两种导入方式：

#### 方式一：预览后导入（推荐）

1. 在文本框中粘贴商品信息
2. 点击"解析文本"按钮
3. 系统会显示解析结果预览表格
4. 检查解析结果是否正确
5. 点击"确认导入这些商品"按钮完成导入

#### 方式二：直接导入

1. 在文本框中粘贴商品信息
2. 点击"直接导入"按钮
3. 确认导入提示
4. 系统自动完成导入并显示结果

## 文本格式规则

### 基本格式

```
规格 品牌 价格元 [品牌 价格元 ...]
```

### 详细说明

1. **规格**（必需）
   - 格式：`数字[/数字]R数字`
   - 示例：`135/70R12`、`165R14`、`155/65R13`
   - 系统会自动从规格中提取一级分类（如 R12、R13、R14）

2. **品牌**（必需）
   - 可以是任意文字
   - 常见品牌：米其林、普利司通、固特异、玛吉斯、朝阳、正新、万达、玲珑等

3. **价格**（必需）
   - 格式：`数字元`
   - 示例：`120元`、`230元`

4. **多品牌支持**
   - 同一行可以包含多个品牌和对应价格
   - 每个品牌后面紧跟其价格
   - 示例：`145/70R12 玲珑130元 朝阳 130元 正新 170元`

### 正确示例

```
135/70R12 万达 120元
145/70R12 玲珑130元 朝阳 130元 正新 170元
145R12 玛吉斯 160元
155R12 玛吉斯 200元
155/65R13 玛吉斯200元 海福来 150元 奥特利 160元
165/65R13 玛吉斯 230元 正新 220元
165/70R13 玛吉斯 200元 正新 220元 玲珑 170元
165R14 三角 230元 玲珑 210元 正新350元
```

### 错误示例

❌ 缺少规格：
```
万达 120元
```

❌ 缺少价格：
```
135/70R12 万达
```

❌ 格式错误：
```
135/70R12 万达120
```

❌ 规格格式错误：
```
135-70-R12 万达 120元
```

## 分类自动创建规则

系统会自动创建三级分类：

1. **一级分类**：从规格中提取轮胎直径
   - 示例：`R12`、`R13`、`R14`、`R15`等

2. **二级分类**：完整的轮胎规格
   - 示例：`135/70R12`、`165R14`、`155/65R13`

3. **三级分类**：与二级分类相同
   - 示例：`135/70R12`、`165R14`、`155/65R13`

## 商品命名规则

系统会自动生成商品名称：

**格式**：`规格 + 品牌`

**示例**：
- `135/70R12 万达`
- `165R14 三角`
- `155/65R13 玛吉斯`

## 导入结果

### 成功导入

系统会显示成功导入的商品数量。

### 失败原因

可能的失败原因包括：

1. **商品已存在**
   - 相同的商品名称和型号已经存在于系统中
   - 解决方案：检查是否重复导入

2. **文本格式错误**
   - 规格、品牌或价格格式不符合要求
   - 解决方案：检查并修正文本格式

3. **数据库错误**
   - 系统内部错误
   - 解决方案：联系系统管理员

### 导入报告

导入完成后，系统会显示详细报告：

```
导入完成！
成功：15 个
失败：2 个

失败原因：
- 135/70R12 万达: 商品已存在
- 165R14 朝阳: 商品已存在
```

## 注意事项

1. **防止重复导入**
   - 系统会自动检测重复商品
   - 相同商品名和型号的商品不会被重复添加

2. **分类自动创建**
   - 如果分类不存在，系统会自动创建
   - 无需手动创建分类

3. **商品图片**
   - 批量导入时暂不支持上传图片
   - 导入后可在商品管理中单独添加图片

4. **价格单位**
   - 系统会自动去除"元"字
   - 保存为数字格式

5. **权限要求**
   - 只有管理员账号才能使用批量导入功能
   - 普通用户无法访问此功能

## 常见问题

### Q1：导入后的商品在哪里查看？

**A**：导入成功的商品会立即出现在：
- 首页商品列表
- 分类浏览中对应的分类下
- 商品搜索结果中

### Q2：可以修改已导入的商品吗？

**A**：可以。在商品管理中可以：
- 修改商品信息
- 上传商品图片
- 调整价格
- 删除商品

### Q3：导入失败了怎么办？

**A**：
1. 检查文本格式是否正确
2. 查看失败原因提示
3. 修正后重新导入
4. 如果问题持续，联系技术支持

### Q4：一次可以导入多少商品？

**A**：
- 理论上没有数量限制
- 建议每次导入不超过100个商品
- 过多商品可能导致处理时间较长

### Q5：如何批量添加条形码？

**A**：
- 批量导入只创建商品
- 条形码需要在"条形码管理"中单独添加
- 未来版本可能支持条形码批量导入

## 示例数据

您可以直接复制以下示例数据进行测试：

```
135/70R12 万达 120元
145/70R12 玲珑130元 朝阳 130元 正新 170元
145R12 玛吉斯 160元
155R12 玛吉斯 200元
155/65R13 玛吉斯200元 海福来 150元 奥特利 160元
165/65R13 玛吉斯 230元 正新 220元 海福来 150元 万达 150元
165/70R13 玛吉斯 200元 正新 220元 玲珑 170元 万达 140元 欧维森 150元
155R13 正新 260元 玛吉斯 260元 安耐特 180元
165R13 三角220元
165/60R14 玛吉斯220元 奥特利 170元
165/65R14 朝阳 240元
165/70R14 正新240元 三角 200元 奥特利 180元 诚信 180元
165R14 三角 230元 玲珑 210元 正新350元
```

## 技术支持

如有问题，请联系：
- 系统管理员
- 技术支持团队
- 提交 GitHub Issue

---

**版本**: 1.0.0
**最后更新**: 2024-12-14
